var Paul_Pio=function(prop){var that=this,current={idol:0,menu:document.querySelector(".pio-container .pio-action"),canvas:document.getElementById("pio"),body:document.querySelector(".pio-container"),root:document.location.protocol+"//"+document.location.hostname+"/"},modules={idol:function(){return current.idol<prop.model.length-1?current.idol++:current.idol=0,current.idol},create:function(e,n){var o=document.createElement(e);return n.class&&(o.className=n.class),o},rand:function(e){return e[Math.floor(Math.random()*e.length+1)-1]},render:function(e){e.constructor===Array?dialog.innerText=modules.rand(e):e.constructor===String?dialog.innerText=e:dialog.innerText="أظن أن هناك مشكلة",dialog.classList.add("active"),clearTimeout(this.t),this.t=setTimeout((function(){dialog.classList.remove("active")}),7e3)},destroy:function(){that.initHidden(),localStorage.setItem("posterGirl",0)},isMobile:function(){var e=window.navigator.userAgent.toLowerCase();return e=e.indexOf("mobile")||e.indexOf("android")||e.indexOf("ios"),window.innerWidth<500||-1!==e}};this.destroy=modules.destroy;var elements={home:modules.create("span",{class:"pio-home"}),skin:modules.create("span",{class:"pio-skin"}),info:modules.create("span",{class:"pio-info"}),night:modules.create("span",{class:"pio-night hidden"}),close:modules.create("span",{class:"pio-close"}),show:modules.create("div",{class:"pio-show"})},dialog=modules.create("div",{class:"pio-dialog"});current.body.appendChild(dialog),current.body.appendChild(elements.show);var action={welcome:function(){if(""!==document.referrer&&-1===document.referrer.indexOf(current.root))document.createElement("a").href=document.referrer,prop.content.referer?modules.render(prop.content.referer.replace(/%t/,"الطقس جيد اليوم, لنلعب معا!")):modules.render("مرحبا بك في مدونتنا, أتمنى أن تكون بصحة وعافية!");else if(prop.tips){var e,n=(new Date).getHours();e=n>22||n<=5?"هل أنت خفاش؟ أنا لا أسهر لوقت متأخر لذا جاني.":n>5&&n<=8?"!صباح الخير":n>8&&n<=11?"صباح الخير! لا تجلس كثيرا على الحاسوب، اذهب ومارس بعض الرياضة حتى ولو قليلا!":n>11&&n<=14?"إنه الظهر، حان وقت الغداء!":n>14&&n<=17?"؟من السهل أن تشعر بالنعاس بعد تناول الغداء، هل أنهيت تمارينك اليوم":n>17&&n<=19?"مشهد غروب الشمس جميل جدا، وأجمل غروب شمس أحمر رأيته.":n>19&&n<=21?"؟مساء الخير، كيف كان يومك":"الوقت متأخر الآن، علي أن أنام لأستيقظ باكرا في الغد، ليلة سعيدة.",modules.render(e)}else modules.render(prop.content.welcome||"مرحبا بك في مدونتنا، أتمنى أن تكون بصحة وعافية!")},touch:function(){current.canvas.onclick=function(){modules.render(prop.content.touch||["ماذا تفعل؟","إلمسني مجددا وسأتصل بالشرطة!","أيها المنحرف لا تلمسني، أحمق هنتاي!","كف عن لمسي، أكرهك باكا باكا دايكيراي!","شيني...","لم أنت منحرف لهذه الدرجة؟","سأخبر رايز بما فعلته، وسيأتي الجندي شادو لجلدك.","أتعرف معنى لوليكون؟","لعلمك الشلة لا يحبون اللوليز لأن بعض الذين يحبون اللوليز دخلوا السجن!","أوي، توقف عن لمسي، هنتاي!"])}},buttons:function(){elements.home.onclick=function(){location.href=current.root},elements.home.onmouseover=function(){modules.render(prop.content.home||"انقر هنا للعودة إلى الصفحة الرئيسية!")},current.menu.appendChild(elements.home),elements.skin.onclick=function(){loadlive2d("pio",prop.model[modules.idol()]),prop.content.skin&&prop.content.skin[1]?modules.render(prop.content.skin[1]):modules.render("الملابس الجديدة جميلة جدا، دايسكي.")},elements.skin.onmouseover=function(){prop.content.skin&&prop.content.skin[0]?modules.render(prop.content.skin[0]):modules.render("ما رأيك أن تشتري لي ملابس الجديدة؟")},prop.model.length>1&&current.menu.appendChild(elements.skin),elements.info.onclick=function(){window.open(prop.content.link||"#")},elements.info.onmouseover=function(){modules.render("أتود معرفة المزيد حول أعضاء الفريق؟")},current.menu.appendChild(elements.info),prop.night&&(elements.night.onclick=function(){"function"==typeof prop.night?prop.night():eval(prop.night)},elements.night.onmouseover=function(){modules.render("انقر هنا لحماية عينيك في الليل.")},current.menu.appendChild(elements.night)),elements.close.onclick=function(){modules.destroy()},elements.close.onmouseover=function(){modules.render(prop.content.close||"أستتخلى عني بهذه السرعة، باكا باكا دايكيراي!")},current.menu.appendChild(elements.close)},custom:function(){prop.content.custom.forEach((function(e){e.type||(e.type="default");var n=document.querySelectorAll(e.selector);if(n.length)for(var o=0;o<n.length;o++)"read"===e.type?n[o].onmouseover=function(){modules.render("想阅读 %t 吗？".replace(/%t/,"“"+this.innerText+"”"))}:"link"===e.type?n[o].onmouseover=function(){modules.render("想了解一下 %t 吗？".replace(/%t/,"“"+this.innerText+"”"))}:e.text&&(n[o].onmouseover=function(){modules.render(e.text)})}))}},begin={static:function(){current.body.classList.add("static")},fixed:function(){action.touch(),action.buttons()},draggable:function(){action.touch(),action.buttons();var e=current.body;e.onmousedown=function(n){var o=n.clientX-this.offsetLeft,t=n.clientY-this.offsetTop;function r(n){e.classList.add("active"),e.classList.remove("right"),e.style.left=n.clientX-o+"px",e.style.top=n.clientY-t+"px",e.style.bottom="auto"}document.addEventListener("mousemove",r),document.addEventListener("mouseup",(function(){e.classList.remove("active"),document.removeEventListener("mousemove",r)}))}}};this.init=function(e){if(!prop.hidden||!modules.isMobile()){switch(e||(action.welcome(),loadlive2d("pio",prop.model[0])),prop.mode){case"static":begin.static();break;case"fixed":begin.fixed();break;case"draggable":begin.draggable()}prop.content.custom&&action.custom()}},this.initHidden=function(){"draggable"===prop.mode&&(current.body.style.top=null,current.body.style.left=null,current.body.style.bottom=null),current.body.classList.add("hidden"),dialog.classList.remove("active"),elements.show.onclick=function(){current.body.classList.remove("hidden"),localStorage.setItem("posterGirl",1),that.init()}},0==localStorage.getItem("posterGirl")?this.initHidden():this.init()};